Для последнего теста (функциональные зависимости) продолжение испытание DB80.DBX122.0 OP49_Continum.

Кажется забыл про контур контроля чистоты раб жидкости
Я тебе шлю бит m122.7 - чтение чистоты рабочей жидкости. Когда ты прочитал и обновил показания - сбрось этот бит.

7. При возникновении аварийной ситуации (перегрев масла, аварийный уровень масла) в общем как в тестах - выводить соответствующее сообщение.



Для автоматического режима

1. Добавить бит выбора контура (можно выбрать все 3 одновременно)
m125.3 Contur_A
m125.4 Contur_B
m125.5 Contur_C

2. Второе окно ввода переместить в общие настройки и назвать как то так - "настройки испытания насосов"


Для ручного режима
8. Когда мы хотим задать новое давление в поле (YB7-YB9), вводим значение в ячейку жмем энтер.
Если не выполняются условия (см. формулу), то выводить окно с предупреждением: "Невозможно достигнуть заданного давления на текущей частоте вращения, скорректируйте (уменьшите) давление"

Формула мощности
(q*n/1000*p)/540< или =110кВт
где q - рабочий объем насоса (db71.dbd16) или (и) (db71.dbd32)
n - частота вращения (db71.dbd52)
р - давление - ячейки с YB7-YB9

Если работаем с одной секцией, т.е если значение объема насоса введено только в поле
"рабочий объем 1 испытуемого насоса", то давление для расчета берем:
а) из той ячейки (YB7-YB9) где значение выше 0
б) если введено два значения давления то считаем что в ячейку "рабочей объем 2 испытуемого насоса" введено тоже самое значение что и для первой секции и делаем расчет для двух секций (см ниже)
Если работаем с двумя секциями, т.е. введен "рабочей объем 2 испытуемого насоса"
(а он будет введен точно таким же как и "рабочий объем 1 испытуемого насоса"), то
для расчета используем оба объема и оба давления (тех ячеек где оно введено, т.е. больше 0) считаем отдельно по формуле и суммируем полученную мощность и если она превышает 110кВт то выводим сообщение.
При этом введенное значение давления мне в контроллер не передаешь!

